---
title: "Notion CMS 연동하기(1) - 실패 기록"
date: "2025-09-22"
description: "Notion CMS 도입 시도와 실패 원인 분석."
category: "AI 활용 - 바이브코딩"
---

블로그 구현은 마쳤으나, 매번 md 파일을 생성하여 새롭게 배포하는 과정이 번거로워 CMS 를 구현하고 자동으로 글이 올라가도록 적용하고 싶었다.

가장 간단하게 구현 가능한 CMS는

1. [**Decap CMS**](https://www.netlify.com/integrations/decap/) - 현재 블로그를 배포하고 있는 서비스로 직접 로그인 할 수 있는 어드민 페이지를 제공한다. 자유도는 떨어지지만 구현하기 쉽다.
2. [**Notion**](https://velog.io/@seungchan__y/Notion%EC%9C%BC%EB%A1%9C-%EB%82%98%EB%A7%8C%EC%9D%98-%EB%B8%94%EB%A1%9C%EA%B7%B8-CMS-%EB%A7%8C%EB%93%A4%EA%B8%B0) - 노션에 생성한 데이터베이스를 블로그에 연동하여 CMS를 구현한다. 업로드 이미지가 만료 시간이 존재하고 마크다운 언어를 html로 변경하는 과정이 필요하여 별도 라이브러리 활용이 강제된다.

Decap는 한글이 중간에 씹히는 현상이 있다는 리뷰와, 추후 과금 문제가 있을 때 옮기기 어려울 것 같다는 걱정이 들어 이미지 업로드와 자동 배포에 추가적인 설정이 필요함에도 Notion을 활용하기로 최종 결정하였다.

이미 Notion 프로 계정이 있으며, 글감을 노션에서 관리한다는 점도 컸다.

기획서를 작성하고, 이미 블로그에 적용된 기능(giscus를 활용한 댓글, Goatcounter를 활용한 뷰 카운트)이 충돌되지 않도록 해당 부분까지 신경써서 기획서에 녹였다.

최종 프롬프트와 Codex를 활용하여 주말내내 Notion CMS 구현에 힘을 쏟았으나 결국 끝까지 연결이 되지 않아 실패하고 말았다.

API KEY를 분명 정확한 경로에 등록했지만, 인식하지 못하는 문제가 지속되었다. 에이전트는 계속 해당 키를 등록해야 한다는 말만 반복하는 상황.

수정이 이어지며, 레거시 코드가 많이 발생하였고 되돌리기도 쉽지 않아 결국 모든 데이터를 삭제하고 git의 최종 버전으로 복귀하는데 한참의 시간이 걸렸다.

> 솔직히 말하면, 이번엔 **프롬프트만으로 넓은 스코프를 한 번에 태운 게 가장 큰 리스크**였어. 다음번엔 **“연결 확인 → 한 페이지 표시”** 같은 아주 작은 성공을 먼저 만들고, 그다음 기능을 한 층씩 쌓으면 훨씬 덜 고생해.

GPT 피셜. 그으래… 고맙다🥲

예상되는 문제점은 두가지인 것 같다.

1. 기존 등록한 글이 영향이 가지 않도록 등록된 contents md 파일과 공존하도록 요청을 했는데, 이런 요소들이 섞여 에이전트가 잦은 할루시네이션을 일으키고 레거시 코드를 잔뜩 발생 시켰다.
2. 자바스크립트 SDK(@notionhq/client)을 설치하고 API키를 넣는 방식과 환경 변수를 등록하는 방식이 섞여 경로에 문제가 생겼다.

```jsx
    - “MDX와 Notion을 병행” 요구는 자연스럽지만, 구현 관점에선 **데이터 소스·생성 규칙·템플릿**이 2벌로 늘어납니다.
    - 에이전트가 레포를 제대로 스캔하지 않거나(혹은 지시가 포괄적일 때) **기존 흐름을 복제/변형**한 파일을 여러 개 만들어 **중복/죽은 코드**와 **경로 충돌**(slug, 템플릿, GraphQL 타입)이 생기기 쉽습니다.
    - “예약 배포, 이미지 로컬화, giscus/GoatCounter 유지”까지 한 번에 요구하면 **디버깅 표면적이 너무 넓어져** 작은 어긋남이 눈덩이처럼 커집니다.

    **요약**
	네가 제시한 두 가지가 핵심 원인 맞다고 본다.
	1.	공존 요구가 “파일 복제 + 중복 템플릿 + 다중 생성 루트”로 번역되며 레거시 범람/충돌을 만들었고,
	2.	SDK 직접키/환경변수 혼용이 런타임 경로와 보안·연결 안정성을 깨뜨렸다.
	•	해결책은 (a) 단일 생성지점 + 명시 스키마 + 슬러그 규칙 단일화, (b) Notion 키는 Node 전용·환경변수 단일 주입·연결 검증을 먼저 하는 것이다.
	•	다음 시도는 **“연결 확인 → 한 글 렌더”**까지만 목표로 잡고, 기능을 층층이 올리는 방식이 가장 안전하다.

원하면 위 내용을 **Codex에 줄 “단계별 재시도 프롬프트(짧은 버전)”**로 정리해서 바로 붙여넣을 수 있게 만들어 줄게.
```

아직 개발에 대해 하나도 모르는 초심자 입장에서는 잘못된 분석일 수 있지만 우선은 정말 notion 연동이 되는지, 연동되는 코드 구조는 어떻게 되는지를 작은 프로젝트로 확인하고 블로그에 확장하려고 한다.

---

### ✅ To-do
1. 새로운 블로그 페이지 생성 및 Notion CMS 연동 테스트
2. 연결된 구조를 익히고, 단계별 도입 프롬프트를 다듬어 실제 블로그에 연동
    - 기존의 글과 연관 기능은 무시 (추후 문제가 생겨도 수정은 어렵지 않을 것, 명확한 경로만 지정하면 됨)