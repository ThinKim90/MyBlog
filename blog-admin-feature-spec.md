# 블로그 관리자 기능 기획서

## 📋 프로젝트 개요

**목표**: 현재 Gatsby 블로그에 웹 기반 포스팅 관리 시스템을 추가하여, 마크다운 파일을 직접 수정하지 않고도 브라우저에서 포스트를 작성, 편집, 관리할 수 있도록 한다.

**현재 상태**: 
- Gatsby 정적 사이트
- 마크다운 파일로 포스트 관리
- Git 기반 배포 (Netlify)

**목표 상태**:
- 웹 기반 관리자 패널
- 실시간 포스트 작성/편집
- 자동 빌드/배포 연동

---

## 🎯 핵심 기능

### 1. 인증 시스템
- **로그인 페이지** (`/admin/login`)
  - 이메일/비밀번호 기반 인증
  - "관리자로 로그인" 체크박스
  - 로그인 상태 유지 (Remember Me)
  
- **보안**
  - JWT 토큰 기반 인증
  - 세션 만료 관리 (24시간)
  - 관리자 권한 검증

### 2. 관리자 대시보드
- **경로**: `/admin/dashboard`
- **구성 요소**:
  - 📊 **통계 카드**
    - 총 포스트 수
    - 임시저장 포스트 수
    - 이번 달 작성 포스트 수
    - 조회수 (가능하다면)
  
  - 📝 **최근 포스트 목록** (5개)
    - 제목, 작성일, 상태
    - 빠른 편집/삭제 버튼
  
  - ⚡ **빠른 액션**
    - "새 포스트 작성" 버튼
    - "임시저장 목록" 링크
    - "사이트 미리보기" 링크

### 3. 포스트 목록 관리
- **경로**: `/admin/posts`
- **기능**:
  - 📋 **포스트 테이블**
    - 제목, 카테고리, 작성일, 상태, 액션
    - 정렬 기능 (제목, 날짜별)
    - 페이지네이션
  
  - 🔍 **검색/필터**
    - 제목으로 검색
    - 카테고리별 필터
    - 상태별 필터 (발행됨/임시저장)
  
  - 🎛️ **일괄 작업**
    - 다중 선택
    - 일괄 삭제
    - 일괄 카테고리 변경

### 4. 포스트 작성/편집
- **경로**: 
  - 새 작성: `/admin/posts/new`
  - 편집: `/admin/posts/edit/[slug]`

- **에디터 구성**:
  ```
  ┌─────────────────────────────────────┐
  │  [제목 입력 필드]                    │
  ├─────────────────────────────────────┤
  │ [카테고리] [태그] [작성일] [URL슬러그] │
  ├─────────────────────────────────────┤
  │                                     │
  │  [마크다운 에디터]    │ [미리보기]    │
  │                      │             │
  │  # 제목               │ 제목         │
  │  내용...             │ 내용...      │
  │                      │             │
  ├─────────────────────────────────────┤
  │ [임시저장] [미리보기] [발행] [취소]   │
  └─────────────────────────────────────┘
  ```

- **에디터 기능**:
  - ✍️ **마크다운 에디터**
    - 실시간 문법 하이라이팅
    - 자동완성 (헤더, 링크, 이미지)
    - 단축키 지원 (Ctrl+B for bold 등)
  
  - 👀 **실시간 미리보기**
    - 분할 화면 (에디터 | 미리보기)
    - 동기화된 스크롤
    - 실제 블로그 스타일 적용
  
  - 📷 **이미지 업로드**
    - 드래그 앤 드롭 지원
    - 클립보드에서 붙여넣기
    - 자동 최적화 (webp 변환, 리사이징)
    - CDN 업로드 (Cloudinary 등)
  
  - 📝 **메타데이터 관리**
    - 포스트 제목
    - URL 슬러그 (자동 생성/수동 편집)
    - 카테고리 선택/추가
    - 태그 입력 (자동완성)
    - 작성일 설정
    - SEO 설명 (description)

### 5. 카테고리/태그 관리
- **경로**: `/admin/categories`, `/admin/tags`
- **기능**:
  - 카테고리/태그 목록
  - 추가/편집/삭제
  - 사용 횟수 표시
  - 미사용 태그 정리

---

## 🎨 UI/UX 디자인

### 레이아웃 구조
```
┌─────────────────────────────────────────────────┐
│ [로고] Thin Blog Admin    [사용자명] [로그아웃] │  ← Header
├─────────────────────────────────────────────────┤
│ [📊대시보드] [📝포스트] [📁카테고리] [⚙️설정]   │  ← Navigation
├─────────────────────────────────────────────────┤
│                                                 │
│            Main Content Area                    │  ← Content
│                                                 │
└─────────────────────────────────────────────────┘
```

### 디자인 시스템
- **색상**: 기존 블로그와 동일한 색상 팔레트 사용
  - Primary: `#8b7d6b`
  - Background: `#f8f6f0`
  - Text: `#2d2823`
- **타이포그래피**: 기존 블로그 폰트 사용
- **컴포넌트**: 일관된 버튼, 카드, 폼 스타일

---

## 🛠 기술 스택

### Frontend
- **React 18** (기존 Gatsby와 공유)
- **TypeScript**
- **Styled Components** 또는 **Emotion**
- **React Hook Form** (폼 관리)
- **Monaco Editor** 또는 **CodeMirror** (마크다운 에디터)
- **React Query** (서버 상태 관리)

### Backend
**옵션 1: Serverless (추천)**
- **Netlify Functions** 또는 **Vercel API Routes**
- **FaunaDB** 또는 **Supabase** (데이터베이스)
- **Cloudinary** (이미지 저장)

**옵션 2: 전통적인 서버**
- **Node.js + Express**
- **MongoDB** 또는 **PostgreSQL**
- **AWS S3** (파일 저장)

### 인증
- **Auth0** 또는 **Firebase Auth**
- **JWT** 토큰 기반

### 배포 연동
- **GitHub API** (파일 생성/수정)
- **Netlify Build Hooks** (자동 재배포)

---

## 📊 데이터 모델

### Post
```typescript
interface Post {
  id: string
  title: string
  slug: string
  content: string // 마크다운 내용
  description?: string
  category: string
  tags: string[]
  status: 'draft' | 'published'
  createdAt: Date
  updatedAt: Date
  publishedAt?: Date
}
```

### Category
```typescript
interface Category {
  id: string
  name: string
  slug: string
  description?: string
  postCount: number
}
```

### User
```typescript
interface User {
  id: string
  email: string
  name: string
  role: 'admin'
  createdAt: Date
}
```

---

## 🔄 워크플로우

### 포스트 작성 플로우
1. **로그인** → 관리자 인증
2. **대시보드** → "새 포스트 작성" 클릭
3. **에디터** → 제목, 내용, 메타데이터 입력
4. **미리보기** → 실시간 미리보기로 확인
5. **저장 옵션**:
   - **임시저장**: 로컬 DB에만 저장
   - **발행**: 마크다운 파일 생성 → GitHub 커밋 → 자동 배포

### 자동 배포 플로우
```
포스트 발행 → GitHub API 호출 → 마크다운 파일 생성/수정 → 
Netlify 빌드 훅 트리거 → Gatsby 빌드 → 사이트 업데이트
```

---

## 📋 개발 단계

### Phase 1: 기본 인프라 (2주)
- [ ] 인증 시스템 구축
- [ ] 관리자 레이아웃 구성
- [ ] 기본 라우팅 설정
- [ ] 데이터베이스 스키마 설계

### Phase 2: 핵심 기능 (3주)
- [ ] 포스트 작성 에디터
- [ ] 마크다운 미리보기
- [ ] 포스트 목록/검색
- [ ] 임시저장 기능

### Phase 3: 고급 기능 (2주)
- [ ] 이미지 업로드
- [ ] 카테고리/태그 관리
- [ ] GitHub 연동
- [ ] 자동 배포 연동

### Phase 4: 최적화 (1주)
- [ ] 성능 최적화
- [ ] 에러 처리
- [ ] 사용성 개선
- [ ] 테스트 작성

---

## 🔒 보안 고려사항

1. **인증**: JWT 토큰 만료 시간 설정
2. **권한**: 관리자만 접근 가능하도록 라우트 보호
3. **입력 검증**: XSS, SQL Injection 방지
4. **파일 업로드**: 파일 타입, 크기 제한
5. **HTTPS**: 모든 통신 암호화

---

## 💡 추가 아이디어

### 향후 확장 가능 기능
- 📈 **Analytics 대시보드**: 포스트별 조회수, 인기 포스트
- 💬 **댓글 관리**: 댓글 시스템 연동 시 관리 기능
- 📅 **발행 예약**: 특정 시간에 자동 발행
- 🔄 **백업/복원**: 포스트 데이터 백업
- 📱 **모바일 최적화**: 반응형 관리자 패널
- 🎨 **테마 커스터마이징**: 블로그 스타일 변경
- 📊 **SEO 도구**: 메타 태그, 사이트맵 관리

---

## 📝 결론

이 관리자 기능을 통해 다음과 같은 이점을 얻을 수 있습니다:

1. **편의성**: 코드 에디터 없이도 포스트 관리 가능
2. **효율성**: 실시간 미리보기로 빠른 작성/편집
3. **접근성**: 어디서든 브라우저로 블로그 관리
4. **안정성**: 기존 Gatsby 구조 유지하면서 기능 확장

개발 우선순위는 **Phase 1-2**에 집중하여 핵심 기능을 먼저 구현한 후, 점진적으로 고급 기능을 추가하는 것을 추천합니다.

---

*작성일: 2025년 7월 18일*  
*버전: 1.0*